{% extends 'base.html' %}
{% block title %}Menu | Nimbalkar Canteen{% endblock %}

{% block content %}
<main class="container py-5">

<header class="text-center mb-5">
    <h1 class="display-3 fw-bolder text-white mb-3">Full Menu Selection</h1>
    <p class="lead text-light">
        Explore our wide variety of campus favorites, freshly prepared every day.
    </p>
</header>

{% if not user.is_authenticated %}
<p class="text-danger text-center mb-4">
    Login is required only at checkout
</p>
{% endif %}

<!-- ================= BREAKFAST ================= -->
<section class="menu-section p-4 shadow-lg mb-5">
<h2 class="category-heading display-5 fw-bold">
    üç≥ Breakfast & Quick Bites
</h2>

<div class="row g-4">
{% for item in items %}
{% if item.category == "breakfast" %}
<div class="col-12 col-sm-6 col-md-4 col-lg-3">
<div class="card h-100">

{% if item.image %}
<img src="{{ item.image.url }}" class="card-img-top">
{% endif %}

<div class="card-body d-flex flex-column">
<h5 class="fw-bold">{{ item.name }}</h5>

{% if item.description %}
<p class="text-muted small">{{ item.description }}</p>
{% endif %}

<p class="fw-bold text-success mt-auto">‚Çπ{{ item.price }}</p>

<form method="post" action="{% url 'add_to_cart' item.id %}">
{% csrf_token %}
<button class="btn btn-warning btn-sm w-100">
Add to Cart
</button>
</form>
</div>
</div>
</div>
{% endif %}
{% endfor %}
</div>
</section>

<!-- ================= MEALS ================= -->
<section class="menu-section p-4 shadow-lg mb-5">
<h2 class="category-heading display-5 fw-bold">
    üç± Meals & Thalis
</h2>

<div class="row g-4">
{% for item in items %}
{% if item.category == "meals" %}
<div class="col-12 col-sm-6 col-md-4 col-lg-3">
<div class="card h-100">

{% if item.image %}
<img src="{{ item.image.url }}" class="card-img-top">
{% endif %}

<div class="card-body d-flex flex-column">
<h5 class="fw-bold">{{ item.name }}</h5>

{% if item.description %}
<p class="text-muted small">{{ item.description }}</p>
{% endif %}

<p class="fw-bold text-success mt-auto">‚Çπ{{ item.price }}</p>

<form method="post" action="{% url 'add_to_cart' item.id %}">
{% csrf_token %}
<button class="btn btn-warning btn-sm w-100">
Add to Cart
</button>
</form>
</div>
</div>
</div>
{% endif %}
{% endfor %}
</div>
</section>

<!-- ================= BEVERAGES ================= -->
<section class="menu-section p-4 shadow-lg mb-5">
<h2 class="category-heading display-5 fw-bold">
    ‚òï Hot & Cold
</h2>

<div class="row g-4">
{% for item in items %}
{% if item.category == "beverages" %}
<div class="col-12 col-sm-6 col-md-4 col-lg-3">
<div class="card h-100">

{% if item.image %}
<img src="{{ item.image.url }}" class="card-img-top">
{% endif %}

<div class="card-body d-flex flex-column">
<h5 class="fw-bold">{{ item.name }}</h5>

{% if item.description %}
<p class="text-muted small">{{ item.description }}</p>
{% endif %}

<p class="fw-bold text-success mt-auto">‚Çπ{{ item.price }}</p>

<form method="post" action="{% url 'add_to_cart' item.id %}">
{% csrf_token %}
<button class="btn btn-warning btn-sm w-100">
Add to Cart
</button>
</form>
</div>
</div>
</div>
{% endif %}
{% endfor %}
</div>
</section>

<!-- ================= CHINESE ================= -->
<section class="menu-section p-4 shadow-lg mb-5">
<h2 class="category-heading display-5 fw-bold">
    üçú Chinese Corner
</h2>

<div class="row g-4">
{% for item in items %}
{% if item.category == "chinese" %}
<div class="col-12 col-sm-6 col-md-4 col-lg-3">
<div class="card h-100">

{% if item.image %}
<img src="{{ item.image.url }}" class="card-img-top">
{% endif %}

<div class="card-body d-flex flex-column">
<h5 class="fw-bold">{{ item.name }}</h5>

{% if item.description %}
<p class="text-muted small">{{ item.description }}</p>
{% endif %}

<p class="fw-bold text-success mt-auto">‚Çπ{{ item.price }}</p>

<form method="post" action="{% url 'add_to_cart' item.id %}">
{% csrf_token %}
<button class="btn btn-warning btn-sm w-100">
Add to Cart
</button>
</form>
</div>
</div>
</div>
{% endif %}
{% endfor %}
</div>
</section>

<!-- ================= SPECIAL ================= -->
<section class="menu-section p-4 shadow-lg">
<h2 class="category-heading display-5 fw-bold">
    üî• Special Menu
</h2>

<div class="row g-4">
{% for item in items %}
{% if item.category == "special" %}
<div class="col-12 col-sm-6 col-md-4 col-lg-3">
<div class="card h-100">

{% if item.image %}
<img src="{{ item.image.url }}" class="card-img-top">
{% endif %}

<div class="card-body d-flex flex-column">
<h5 class="fw-bold">{{ item.name }}</h5>

{% if item.description %}
<p class="text-muted small">{{ item.description }}</p>
{% endif %}

<p class="fw-bold text-success mt-auto">‚Çπ{{ item.price }}</p>

<form method="post" action="{% url 'add_to_cart' item.id %}">
{% csrf_token %}
<button class="btn btn-warning btn-sm w-100">
Add to Cart
</button>
</form>
</div>
</div>
</div>
{% endif %}
{% endfor %}
</div>
</section>

</main>
{% endblock %}
